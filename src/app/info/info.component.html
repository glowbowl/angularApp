<div class="container">
    <div class="sidebar">
        <div class="menu">
            <h1>Info page</h1>
        </div>
    </div>
    <div class="main">
        <div class="main-info">
            <form [formGroup]="SearchForm" (ngSubmit)="onSubmit(SearchForm.value)">
                <div class="column">
                    <div class="field">
                        <div class="password">
                            <div class="field-pass">
                                <input [ngClass]="{ 'is-invalid': nickname.invalid && nickname.touched }" type="text" placeholder="Nickname"
                                    formControlName="nickname">
                                <div *ngIf="(nickname.invalid && nickname.touched) || nickname.dirty" class="text-danger">
                                    <small *ngIf="nickname.errors?.required">Nickname is required</small>
                                    <small *ngIf="nickname.errors?.minlength">Nickname must be at least 6 characters</small>
                                </div>
                            </div>

                            <div class="field-pass">
                                <input [ngClass]="{ 'is-invalid': phone.invalid && phone.touched }" type="tel" placeholder="Phone"
                                    formControlName="phone">
                                <div *ngIf="(phone.invalid && phone.touched) || phone.dirty" class="text-danger">
                                    <small *ngIf="phone.errors?.required">Phone is required</small>
                                    <small *ngIf="phone.errors?.pattern">Please provide a valid phone</small>
                                    <small *ngIf="phone.errors?.minlength">Phone must be at least 5 characters</small>
                                    <small *ngIf="phone.errors?.maxlength">Phone can't be longer than 10 characters</small>
                                </div>
                            </div>

                            <div class="field-pass">
                                <input [ngClass]="{ 'is-invalid': email.invalid && email.touched }" type="email" placeholder="Email"
                                    formControlName="email">
                                <div *ngIf="(email.invalid && email.touched) || email.dirty" class="text-danger">
                                    <small *ngIf="email.errors?.required">Email is required</small>
                                    <small *ngIf="email.errors?.pattern">Please provide a valid email address</small>
                                </div>
                            </div>
                        </div>
                        
                        <div class="field-btn">
                            <button (click)="SearchForm.reset()">Clear</button>
                            <button type="submit" [disabled]="!SearchForm.valid">Find</button>
                        </div>
                    </div>
                </div>
            </form>
            <div class="table">
                <tbody class="primary-table">
                    <tr class="table-names">
                        <td>First Name</td>
                        <td>Last Name</td>
                        <td>Nickname</td>
                        <td>Phone</td>
                        <td>Email</td>
                        <td>Action</td>
                    </tr>
                    <tr *ngFor="let user of allUsers">
                        <td>{{ user.firstName }}</td>
                        <td>{{ user.lastName }}</td>
                        <td>{{ user.nickname }}</td>
                        <td>{{ user.phone }}</td>
                        <td>{{ user.email }}</td>
                        <td>
                            <button (click)="update(user.uid)">Update</button>
                            <button (click)="delete(user.uid)">Delete</button>
                        </td>
                    </tr>
                </tbody>
            </div>
        </div>
    </div>
</div>